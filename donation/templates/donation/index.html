{% extends "donation/main.html" %}

{% load static %} {% load bootstrap4 %} {% bootstrap_css %} {% bootstrap_javascript jquery='full' %}

{% block content %}
<!-- <h1>Donations List</h1> -->

<body style="margin-bottom:0">
	
	<div class="row border-bottom border-dark justify-content-start" style="width: 80rem; margin-left: 270">
	    	<div class=" justify-content-start" style="width: 60%; margin-top: 20; height: 100">
	    		<p class="font-weight-bold" style="font-size: 35; color: black"> Browse Donation Opportunities</p>
	    		<p class="font-weight-light" style="color:#047bff; font-size: 20; margin-top: -20">
	            {{active_donation_list|length}} opportunities available</p>
	    	</div>
	    	
	</div>

    <style>
        .card-img-top {
            width: 100%;
            height: 28vh;
            object-fit: cover;
        }
    </style>

    {% if active_donation_list %}
    <div class="row justify-content-md-center border-dark">
                <div class="border-dark dropdown show justify-content-around" style="margin-top: 32; border-radius: 0; width: 200; margin-left: -100;">
                    <p class="font-weight-light" style="font-size: 15; margin-bottom: 5; color: black;">
                        Specify your Search!
                    </p>
                    <form action="{% url 'donation:filt'%}" method="POST">
                        {% csrf_token %}
                        <!-- <a class="dropdown-item" href="#">{{donation.state}}</a>  -->
                        <!-- <div style="margin-bottom: 5">
                            <button class="btn btn-primary" name="FilterButton" value="Social Justice" style="background-color: white; color: black; border-color: white; width: 100%; align-content: left">Social Justice</button>
                        </div>
                        <div style="margin-bottom: 5">
                            <button class="btn btn-primary" name="FilterButton" value="Environment" style="background-color: white; color: black; border-color: white; width: 100%; align-content: left">Environment</button>
                        </div>
                        <div style="">
                            <button class="btn btn-primary" name="FilterButton" value="All" style="background-color: white; color: black; border-color: white; width: 100%; align-items: left">All</button>
                        </div> -->
                        <select class="form-control" id="state" name="state" style="border-radius: 0; margin-bottom: 10; height: 30; font-size: 10">
                                    <option value="N/A">All States</option>
                                    <option value="AK">Alaska</option>
                                    <option value="AL">Alabama</option>
                                    <option value="AR">Arkansas</option>
                                    <option value="AZ">Arizona</option>
                                    <option value="CA">California</option>
                                    <option value="CO">Colorado</option>
                                    <option value="CT">Connecticut</option>
                                    <option value="DC">District of Columbia</option>
                                    <option value="DE">Delaware</option>
                                    <option value="FL">Florida</option>
                                    <option value="GA">Georgia</option>
                                    <option value="HI">Hawaii</option>
                                    <option value="IA">Iowa</option>
                                    <option value="ID">Idaho</option>
                                    <option value="IL">Illinois</option>
                                    <option value="IN">Indiana</option>
                                    <option value="KS">Kansas</option>
                                    <option value="KY">Kentucky</option>
                                    <option value="LA">Louisiana</option>
                                    <option value="MA">Massachusetts</option>
                                    <option value="MD">Maryland</option>
                                    <option value="ME">Maine</option>
                                    <option value="MI">Michigan</option>
                                    <option value="MN">Minnesota</option>
                                    <option value="MO">Missouri</option>
                                    <option value="MS">Mississippi</option>
                                    <option value="MT">Montana</option>
                                    <option value="NC">North Carolina</option>
                                    <option value="ND">North Dakota</option>
                                    <option value="NE">Nebraska</option>
                                    <option value="NH">New Hampshire</option>
                                    <option value="NJ">New Jersey</option>
                                    <option value="NM">New Mexico</option>
                                    <option value="NV">Nevada</option>
                                    <option value="NY">New York</option>
                                    <option value="OH">Ohio</option>
                                    <option value="OK">Oklahoma</option>
                                    <option value="OR">Oregon</option>
                                    <option value="PA">Pennsylvania</option>
                                    <option value="PR">Puerto Rico</option>
                                    <option value="RI">Rhode Island</option>
                                    <option value="SC">South Carolina</option>
                                    <option value="SD">South Dakota</option>
                                    <option value="TN">Tennessee</option>
                                    <option value="TX">Texas</option>
                                    <option value="UT">Utah</option>
                                    <option value="VA">Virginia</option>
                                    <option value="VT">Vermont</option>
                                    <option value="WA">Washington</option>
                                    <option value="WI">Wisconsin</option>
                                    <option value="WV">West Virginia</option>
                                    <option value="WY">Wyoming</option>
                        </select>

                        <select class="form-control" id="categories" name="categories" style="border-radius: 0; margin-bottom: 10; height: 30; font-size: 10">
                                    <option value="N/A">All Categories</option>
                                    <option value="Environment">Environment</option>
                                    <option value="Social Justice">Social Justice</option>
                        </select>

                        <div style="">
                            <input class="btn btn-primary" type="submit" value="Submit" style="border-radius: 0; width: 100%; font-size: 10; background-color: black; border-color: black">
                        </div>

                    </form>
                      
    </div>
    <div class="d-flex justify-content-md-center align-items-center" style="">
        <div class="row justify-content-md-center overflow-auto border-dark" style="margin-left: 20; margin-top: 2rem; width: 80rem; height: 640;">
            {% for donation in active_donation_list %}
            <div class="card shadow text-center" style="width: 17rem; margin: 10; border-color: none; height: 615">

                {% if donation.image %}
                <img class="card-img-top" src="/donation{{donation.image.url}}" alt="Card image cap"
                    style="border-color: black; width: 100%">
                {% endif %}
                <!-- <img class="card-img-top" src="{% static 'donation/images/default.jpg' %}" alt="Card image cap" style="border-color: black; width: 100%"> -->
                <!-- {% if donation.image %}
                <img class="card-img-top" src={{donation.image.url}} alt="Card image cap">
                <img class="card-img-top" src="images/test.png" alt="Card image cap">
            {% endif %} -->
                <span class=" badge badge-light align-self-center"
                    style="font-size: 8; width: 90; margin-top: 5; background-color: #ECF0F1">Cat:
                    {{donation.category}}</span>
                <div class="card-body">
                    <div class="d-flex justify-content-start align-items-start" style="margin-top: -5; margin-left: -5">
                        <p class="text-left text-wrap font-weight-bold text-uppercase"
                            style="font-size: 13; color: #047bff">{{donation.city}}, {{donation.state}}</p>
                    </div>
                    <div class="d-flex justify-content-start align-items-start"
                        style="margin-top: -12; margin-left: -5">
                        <p class="text-left text-wrap font-weight-bold" style="font-size: 13; color: black">
                            {{donation.title}}</p>
                    </div>
                    <div class="d-flex justify-content-start align-items-start border-bottom"
                        style="margin-top: -18; margin-left: -5; padding-bottom: 18; height: 15;">
                        <p class="text-left text-wrap font-weight-bold font-italic"
                            style="font-size: 11; color: #047bff">{{donation.organization}}</p>
                    </div>
                    <div class="d-flex justify-content-start align-items-start overflow-auto"
                        style="margin-top:0; margin-left: -5; width: 15rem; height: 62">
                        <p class="text-left text-wrap font-weight-normal" style="font-size: 12; color: #282828">
                            {{donation.description}}</p>
                    </div>
                    {% if donation.percentage_met <= 33 %}
                    <div class="d-flex justify-content-start align-items-start"
                        style="margin-top: 10; margin-left: -5; width: 18.5rem">
                        <div class="progress"
                            style="margin-right: 20%; margin-bottom: 10px; height: 5px; background-color: #d6d6d6; width: 100%">
                            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                                style="width: {{donation.percentage_met}}%; color:black; background-color: red; align-self: left; height: 10"
                                aria-valuenow={{donation.percentage_met}} aria-valuemin="0" aria-valuemax="100">
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-start align-items-start"
                        style="margin-top: -8; margin-left: -5; width: 355">
                        <p class="text-left text-wrap font-weight-bold" style="font-size: 12; color: red; ">Only
                            {{donation.percentage_met}}% of goal met.</p>
                    </div>
                    {% elif donation.percentage_met > 33%}
                    {%if donation.percentage_met < 66%}
                    <div class="d-flex justify-content-start align-items-start"
                        style="margin-top: 10; margin-left: -5; width: 18.5rem">
                        <div class="progress"
                            style="margin-right: 20%; margin-bottom: 10px; height: 5px; background-color: #d6d6d6; width: 100%">
                            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                                style="width: {{donation.percentage_met}}%; color:black; background-color: #FFC107; align-self: left; height: 10"
                                aria-valuenow={{donation.percentage_met}} aria-valuemin="0" aria-valuemax="100">
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-start align-items-start"
                        style="margin-top: -8; margin-left: -5; width: 18.5rem">
                        <p class="text-left text-wrap font-weight-bold" style="font-size: 12; color: #FFC107">
                            {{donation.percentage_met}}% of goal met.</p>
                    </div>
                    {%elif donation.percentage_met >= 66%}
                    <div class="d-flex justify-content-start align-items-start"
                        style="margin-top: 10; margin-left: -5; width: 18.5rem">
                        <div class="progress"
                            style="margin-right: 20%; margin-bottom: 10px; height: 5px; background-color: #d6d6d6; width: 100%">
                            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                                style="width: {{donation.percentage_met}}%; color:black; background-color: #2ECC71; align-self: left; height: 10"
                                aria-valuenow={{donation.percentage_met}} aria-valuemin="0" aria-valuemax="100">
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-start align-items-start"
                        style="margin-top: -8; margin-left: -5; width: 18.5rem">
                        <p class="text-left text-wrap font-weight-bold" style="font-size: 12; color: #2ECC71">
                            {{donation.percentage_met}}% of goal met!</p>
                    </div>
                    {% endif %}
                    {% endif %}
                </div>
                <div class="card-footer text-muted"
                    style="margin-top: -25; background-color: white; border-top-color: white">
                    <a href="{% url 'donation:donation_detail' donation.id %}" class="btn btn-primary"
                        style="margin-left: -2; width: 14.5rem; height: 100%; background-color: #047bff; border-color: #047bff; border-radius: 0">Donate</a>
                </div>
            </div>
            {% endfor %}
        </div>
        <!-- <div class="overflow-auto" style="width: 150; height: 20">This is an example of using .overflow-auto on an element with set width and height dimensions. By design, this content will vertically scroll.</div>  -->
    </div>
</div>
    {% else %}
    <div class="row justify-content-md-center border-dark">
                <div class=" border-dark dropdown show justify-content-around" style="margin-top: 32; border-radius: 0; width: 200; margin-left: -85">
                    <p class="font-weight-light" style="font-size: 15; margin-bottom: 5; color: black">
                        Specify your Search!
                    </p>
                    <form action="{% url 'donation:filt'%}" method="POST">
                        {% csrf_token %}
                        <!-- <a class="dropdown-item" href="#">{{donation.state}}</a>  -->
                        <!-- <div style="margin-bottom: 5">
                            <button class="btn btn-primary" name="FilterButton" value="Social Justice" style="background-color: white; color: black; border-color: white; width: 100%; align-content: left">Social Justice</button>
                        </div>
                        <div style="margin-bottom: 5">
                            <button class="btn btn-primary" name="FilterButton" value="Environment" style="background-color: white; color: black; border-color: white; width: 100%; align-content: left">Environment</button>
                        </div>
                        <div style="">
                            <button class="btn btn-primary" name="FilterButton" value="All" style="background-color: white; color: black; border-color: white; width: 100%; align-items: left">All</button>
                        </div> -->
                        <select class="form-control" id="state" name="state" style="border-radius: 0; margin-bottom: 10; height: 30; font-size: 10">
                                    <option value="N/A">All States</option>
                                    <option value="AK">Alaska</option>
                                    <option value="AL">Alabama</option>
                                    <option value="AR">Arkansas</option>
                                    <option value="AZ">Arizona</option>
                                    <option value="CA">California</option>
                                    <option value="CO">Colorado</option>
                                    <option value="CT">Connecticut</option>
                                    <option value="DC">District of Columbia</option>
                                    <option value="DE">Delaware</option>
                                    <option value="FL">Florida</option>
                                    <option value="GA">Georgia</option>
                                    <option value="HI">Hawaii</option>
                                    <option value="IA">Iowa</option>
                                    <option value="ID">Idaho</option>
                                    <option value="IL">Illinois</option>
                                    <option value="IN">Indiana</option>
                                    <option value="KS">Kansas</option>
                                    <option value="KY">Kentucky</option>
                                    <option value="LA">Louisiana</option>
                                    <option value="MA">Massachusetts</option>
                                    <option value="MD">Maryland</option>
                                    <option value="ME">Maine</option>
                                    <option value="MI">Michigan</option>
                                    <option value="MN">Minnesota</option>
                                    <option value="MO">Missouri</option>
                                    <option value="MS">Mississippi</option>
                                    <option value="MT">Montana</option>
                                    <option value="NC">North Carolina</option>
                                    <option value="ND">North Dakota</option>
                                    <option value="NE">Nebraska</option>
                                    <option value="NH">New Hampshire</option>
                                    <option value="NJ">New Jersey</option>
                                    <option value="NM">New Mexico</option>
                                    <option value="NV">Nevada</option>
                                    <option value="NY">New York</option>
                                    <option value="OH">Ohio</option>
                                    <option value="OK">Oklahoma</option>
                                    <option value="OR">Oregon</option>
                                    <option value="PA">Pennsylvania</option>
                                    <option value="PR">Puerto Rico</option>
                                    <option value="RI">Rhode Island</option>
                                    <option value="SC">South Carolina</option>
                                    <option value="SD">South Dakota</option>
                                    <option value="TN">Tennessee</option>
                                    <option value="TX">Texas</option>
                                    <option value="UT">Utah</option>
                                    <option value="VA">Virginia</option>
                                    <option value="VT">Vermont</option>
                                    <option value="WA">Washington</option>
                                    <option value="WI">Wisconsin</option>
                                    <option value="WV">West Virginia</option>
                                    <option value="WY">Wyoming</option>
                        </select>

                        <select class="form-control" id="categories" name="categories" style="border-radius: 0; margin-bottom: 10; height: 30; font-size: 10">
                                    <option value="N/A">All Categories</option>
                                    <option value="Environment">Environment</option>
                                    <option value="Social Justice">Social Justice</option>
                        </select>

                        <div class="">
                            <input class="btn btn-primary" type="submit" value="Submit" style="border-radius: 0; width: 100%; font-size: 10; background-color: black; border-color: black;">
                        </div>

                    </form>

                      
    </div>
    <div class="d-flex justify-content-md-center align-items-center border-dark"  style="margin-left: 20; margin-top: 2rem; width: 80rem; height: 640">
        <p style="font-size: 30">No donation opportunities with these filters are available. Sorry!</p>
    </div>
    {% endif %}
</body>

{% endblock %}